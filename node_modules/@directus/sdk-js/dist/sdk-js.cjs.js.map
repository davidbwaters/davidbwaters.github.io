{"version":3,"file":"sdk-js.cjs.js","sources":["../src/handlers/items.ts","../src/handlers/server.ts","../src/handlers/utils.ts","../src/handlers/activity.ts","../src/handlers/folders.ts","../src/handlers/permissions.ts","../src/handlers/presets.ts","../src/handlers/relations.ts","../src/handlers/revisions.ts","../src/handlers/roles.ts","../src/handlers/users.ts","../src/handlers/settings.ts","../src/handlers/files.ts","../src/handlers/collections.ts","../src/handlers/fields.ts","../src/handlers/auth.ts","../src/utils/memory-store.ts","../src/index.ts"],"sourcesContent":["import { Query, Item, Payload, Response, PrimaryKey } from '../types';\nimport { AxiosInstance } from 'axios';\n\nexport class ItemsHandler {\n\taxios: AxiosInstance;\n\tprivate endpoint: string;\n\n\tconstructor(collection: string, axios: AxiosInstance) {\n\t\tthis.axios = axios;\n\t\tthis.endpoint = collection.startsWith('directus_')\n\t\t\t? `/${collection.substring(9)}/`\n\t\t\t: `/items/${collection}/`;\n\t}\n\n\tasync create<T extends Item>(payload: Payload, query?: Query): Promise<Response<T>>;\n\tasync create<T extends Item>(payloads: Payload[], query?: Query): Promise<Response<T[]>>;\n\tasync create<T extends Item>(\n\t\tpayloads: Payload | Payload[],\n\t\tquery?: Query\n\t): Promise<Response<T | T[]>> {\n\t\tconst result = await this.axios.post(this.endpoint, payloads, {\n\t\t\tparams: query,\n\t\t});\n\n\t\treturn result.data;\n\t}\n\n\tasync read<T extends Item>(): Promise<Response<T | T[]>>;\n\tasync read<T extends Item>(query: Query & { single: true }): Promise<Response<T>>;\n\tasync read<T extends Item>(query: Query): Promise<Response<T | T[]>>;\n\tasync read<T extends Item>(key: PrimaryKey, query?: Query): Promise<Response<T>>;\n\tasync read<T extends Item>(keys: PrimaryKey[], query?: Query): Promise<Response<T | T[]>>;\n\tasync read<T extends Item>(\n\t\tkeysOrQuery?: PrimaryKey | PrimaryKey[] | Query,\n\t\tquery?: Query & { single: boolean }\n\t): Promise<Response<T | T[]>> {\n\t\tlet keys: PrimaryKey | PrimaryKey[] | null = null;\n\n\t\tif (\n\t\t\tkeysOrQuery &&\n\t\t\t(Array.isArray(keysOrQuery) ||\n\t\t\t\ttypeof keysOrQuery === 'string' ||\n\t\t\t\ttypeof keysOrQuery === 'number')\n\t\t) {\n\t\t\tkeys = keysOrQuery;\n\t\t}\n\n\t\tlet params: Query = {};\n\n\t\tif (query) {\n\t\t\tparams = query;\n\t\t} else if (\n\t\t\t!query &&\n\t\t\ttypeof keysOrQuery === 'object' &&\n\t\t\tArray.isArray(keysOrQuery) === false\n\t\t) {\n\t\t\tparams = keysOrQuery as Query;\n\t\t}\n\n\t\tlet endpoint = this.endpoint;\n\n\t\tif (keys) {\n\t\t\tendpoint += keys;\n\t\t}\n\n\t\tconst result = await this.axios.get(endpoint, { params });\n\n\t\treturn result.data;\n\t}\n\n\tasync update<T extends Item>(\n\t\tkey: PrimaryKey,\n\t\tpayload: Payload,\n\t\tquery?: Query\n\t): Promise<Response<T>>;\n\tasync update<T extends Item>(\n\t\tkeys: PrimaryKey[],\n\t\tpayload: Payload,\n\t\tquery?: Query\n\t): Promise<Response<T[]>>;\n\tasync update<T extends Item>(payload: Payload[], query?: Query): Promise<Response<T[]>>;\n\tasync update<T extends Item>(payload: Payload, query: Query): Promise<Response<T[]>>;\n\tasync update<T extends Item>(\n\t\tkeyOrPayload: PrimaryKey | PrimaryKey[] | Payload | Payload[],\n\t\tpayloadOrQuery?: Payload | Query,\n\t\tquery?: Query\n\t): Promise<Response<T | T[]>> {\n\t\tif (\n\t\t\ttypeof keyOrPayload === 'string' ||\n\t\t\ttypeof keyOrPayload === 'number' ||\n\t\t\t(Array.isArray(keyOrPayload) &&\n\t\t\t\t(keyOrPayload as any[]).every((key) => ['string', 'number'].includes(typeof key)))\n\t\t) {\n\t\t\tconst key = keyOrPayload as PrimaryKey | PrimaryKey[];\n\t\t\tconst payload = payloadOrQuery as Payload;\n\n\t\t\tconst result = await this.axios.patch(`${this.endpoint}${key}`, payload, {\n\t\t\t\tparams: query,\n\t\t\t});\n\t\t\treturn result.data;\n\t\t} else {\n\t\t\tconst result = await this.axios.patch(`${this.endpoint}`, keyOrPayload, {\n\t\t\t\tparams: payloadOrQuery,\n\t\t\t});\n\n\t\t\treturn result.data;\n\t\t}\n\t}\n\n\tasync delete(key: PrimaryKey): Promise<void>;\n\tasync delete(keys: PrimaryKey[]): Promise<void>;\n\tasync delete(keys: PrimaryKey | PrimaryKey[]): Promise<void> {\n\t\tawait this.axios.delete(`${this.endpoint}${keys}`);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport type { OpenAPIObject } from 'openapi3-ts';\n\nexport type ServerInfo = {\n\tproject: {\n\t\tproject_name: string;\n\t\tproject_logo: string | null;\n\t\tproject_color: string | null;\n\t\tpublic_foreground: string | null;\n\t\tpublic_background: string | null;\n\t\tpublic_note: string | null;\n\t\tcustom_css: null;\n\t};\n\tdirectus?: { version: string };\n\tnode?: { uptime: number; version: string };\n\tos?: { totalmem: number; type: string; uptime: number; version: string };\n};\n\nexport class ServerHandler {\n\tprivate axios: AxiosInstance;\n\n\tconstructor(axios: AxiosInstance) {\n\t\tthis.axios = axios;\n\t}\n\n\tspecs = {\n\t\toas: async (): Promise<OpenAPIObject> => {\n\t\t\tconst result = await this.axios.get('/server/specs/oas');\n\t\t\treturn result.data;\n\t\t},\n\t};\n\n\tasync ping(): Promise<'pong'> {\n\t\tawait this.axios.get('/server/ping');\n\t\treturn 'pong';\n\t}\n\n\tasync info(): Promise<{ data: ServerInfo }> {\n\t\tconst result = await this.axios.get('/server/info');\n\t\treturn result.data;\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { PrimaryKey } from '../types';\n\nexport class UtilsHandler {\n\tprivate axios: AxiosInstance;\n\n\tconstructor(axios: AxiosInstance) {\n\t\tthis.axios = axios;\n\t}\n\n\trandom = {\n\t\tstring: async (length: number = 32): Promise<{ data: string }> => {\n\t\t\tconst result = await this.axios.get('/utils/random/string', { params: { length } });\n\t\t\treturn result.data;\n\t\t},\n\t};\n\n\thash = {\n\t\tgenerate: async (string: string): Promise<{ data: string }> => {\n\t\t\tconst result = await this.axios.post('/utils/hash/generate', { string });\n\t\t\treturn result.data;\n\t\t},\n\t\tverify: async (string: string, hash: string): Promise<{ data: boolean }> => {\n\t\t\tconst result = await this.axios.post('/utils/hash/verify', { string, hash });\n\t\t\treturn result.data;\n\t\t},\n\t};\n\n\tasync sort(collection: string, item: PrimaryKey, to: PrimaryKey): Promise<void> {\n\t\tawait this.axios.post(`/utils/sort/${collection}`, { item, to });\n\t}\n\n\tasync revert(revision: PrimaryKey): Promise<void> {\n\t\tawait this.axios.post(`/utils/revert/${revision}`);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\nimport { Query, PrimaryKey, Item, Response } from '../types';\n\nexport class ActivityHandler {\n\tprivate axios: AxiosInstance;\n\tprivate itemsHandler: ItemsHandler;\n\n\tconstructor(axios: AxiosInstance) {\n\t\tthis.axios = axios;\n\t\tthis.itemsHandler = new ItemsHandler('directus_activity', axios);\n\t}\n\n\tasync read<T extends Item>(query?: Query): Promise<Response<T | T[]>>;\n\tasync read<T extends Item>(key: PrimaryKey, query?: Query): Promise<Response<T>>;\n\tasync read<T extends Item>(keys: PrimaryKey[], query?: Query): Promise<Response<T | T[]>>;\n\tasync read<T extends Item>(\n\t\tkeysOrQuery?: PrimaryKey | PrimaryKey[] | Query,\n\t\tquery?: Query & { single: boolean }\n\t): Promise<Response<T | T[]>> {\n\t\tconst result = await this.itemsHandler.read<T>(keysOrQuery as any, query as any);\n\t\treturn result;\n\t}\n\n\tcomments = {\n\t\tcreate: async (payload: { collection: string; item: string; comment: string }): Promise<Response<Item>> => {\n\t\t\tconst response = await this.axios.post('/activity/comments', payload);\n\t\t\treturn response.data;\n\t\t},\n\t\tupdate: async (key: PrimaryKey, payload: { comment: string }): Promise<{ data: Item | null }> => {\n\t\t\tconst response = await this.axios.patch(`/activity/comments/${key}`, payload);\n\t\t\treturn response.data;\n\t\t},\n\t\tdelete: async (key: PrimaryKey): Promise<void> => {\n\t\t\tawait this.axios.delete(`/activity/comments/${key}`);\n\t\t},\n\t};\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class FoldersHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_folders', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class PermissionsHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_permissions', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class PresetsHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_presets', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class RelationsHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_relations', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class RevisionsHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_revisions', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class RolesHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_roles', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\nimport { Query, Payload } from '../types';\n\nexport type UserInfo = {\n\tavatar: string | null;\n\tdescription: string | null;\n\temail: string;\n\tfirst_name: string | null;\n\tid: string;\n\tlanguage: string;\n\tlast_access: string;\n\tlast_name: string | null;\n\tlast_page: string;\n\tlocation: string | null;\n\tpassword: string;\n\trole: string;\n\tstatus: string;\n\ttags: string[];\n\ttfa_secret: string | null;\n\ttheme: 'auto' | 'dark' | 'light';\n\ttitle: string | null;\n\ttoken: string | null;\n};\n\nexport class UsersHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_users', axios);\n\t}\n\n\tasync invite(email: string | string[], role: string): Promise<void> {\n\t\tawait this.axios.post('/users/invite', { email, role });\n\t}\n\n\tasync acceptInvite(token: string, password: string): Promise<void> {\n\t\tawait this.axios.post('/users/invite/accept', { token, password });\n\t}\n\n\ttfa = {\n\t\tenable: async (password: string): Promise<void> => {\n\t\t\tawait this.axios.post('/users/tfa/enable', { password });\n\t\t},\n\t\tdisable: async (otp: string): Promise<void> => {\n\t\t\tawait this.axios.post('/users/tfa/disable', { otp });\n\t\t},\n\t};\n\n\tme = {\n\t\tread: async (query?: Query): Promise<{ data: Partial<UserInfo> }> => {\n\t\t\tconst response = await this.axios.get('/users/me', { params: query });\n\t\t\treturn response.data;\n\t\t},\n\t\tupdate: async (payload: Payload, query?: Query): Promise<{ data: Partial<UserInfo> }> => {\n\t\t\tconst response = await this.axios.patch('/users/me', payload, { params: query });\n\t\t\treturn response.data;\n\t\t},\n\t};\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class SettingsHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_settings', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class FilesHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_files', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class CollectionsHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_collections', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { ItemsHandler } from './items';\n\nexport class FieldsHandler extends ItemsHandler {\n\tconstructor(axios: AxiosInstance) {\n\t\tsuper('directus_fields', axios);\n\t}\n}\n","import { AxiosInstance } from 'axios';\nimport { AuthStorage } from '../types';\n\nexport type LoginCredentials = {\n\temail: string;\n\tpassword: string;\n\totp?: string;\n};\n\nexport type AuthOptions = {\n\tmode: 'cookie' | 'json';\n\tautoRefresh: boolean;\n\tstorage: AuthStorage;\n};\n\nexport type AuthResponse = {\n\taccess_token: string;\n\texpires: number;\n\trefresh_token?: string;\n};\n\nexport class AuthHandler {\n\tprivate axios: AxiosInstance;\n\tprivate storage: AuthStorage;\n\tprivate mode: 'cookie' | 'json';\n\tprivate autoRefresh: boolean;\n\n\tconstructor(axios: AxiosInstance, options: AuthOptions) {\n\t\tthis.axios = axios;\n\t\tthis.storage = options.storage;\n\t\tthis.mode = options.mode;\n\t\tthis.autoRefresh = options.autoRefresh;\n\n\t\tif (this.autoRefresh) {\n\t\t\tthis.refresh();\n\t\t}\n\t}\n\n\tget token(): string | null {\n\t\treturn this.axios.defaults.headers?.Authorization?.split(' ')[1] || null;\n\t}\n\n\tset token(val: string | null) {\n\t\tthis.axios.defaults.headers = {\n\t\t\t...(this.axios.defaults.headers || {}),\n\t\t\tAuthorization: val ? `Bearer ${val}` : undefined,\n\t\t};\n\t}\n\n\tasync login(credentials: LoginCredentials): Promise<{ data: AuthResponse }> {\n\t\tconst response = await this.axios.post<{ data: AuthResponse }>('/auth/login', {\n\t\t\t...credentials,\n\t\t\tmode: this.mode,\n\t\t});\n\n\t\tthis.token = response.data.data.access_token;\n\n\t\tif (this.mode === 'json') {\n\t\t\tawait this.storage.setItem('directus_refresh_token', response.data.data.refresh_token);\n\t\t}\n\n\t\tif (this.autoRefresh) {\n\t\t\tsetTimeout(() => this.refresh(), response.data.data.expires - 10000);\n\t\t}\n\n\t\treturn response.data;\n\t}\n\n\tasync refresh(): Promise<{ data: AuthResponse }> {\n\t\tconst payload: Record<string, any> = { mode: this.mode };\n\n\t\tif (this.mode === 'json') {\n\t\t\tconst refreshToken = await this.storage.getItem('directus_refresh_token');\n\t\t\tpayload['refresh_token'] = refreshToken;\n\t\t}\n\n\t\tconst response = await this.axios.post<{ data: AuthResponse }>('/auth/refresh', payload);\n\n\t\tthis.token = response.data.data.access_token;\n\n\t\tif (this.mode === 'json') {\n\t\t\tawait this.storage.setItem('directus_refresh_token', response.data.data.refresh_token);\n\t\t}\n\n\t\tif (this.autoRefresh) {\n\t\t\tsetTimeout(() => this.refresh(), response.data.data.expires - 10000);\n\t\t}\n\n\t\treturn response.data;\n\t}\n\n\tasync logout(): Promise<void> {\n\t\tawait this.axios.post('/auth/logout');\n\t\tthis.token = null;\n\t}\n\n\tpassword = {\n\t\trequest: async (email: string): Promise<void> => {\n\t\t\tawait this.axios.post('/auth/password/request', { email });\n\t\t},\n\n\t\treset: async (token: string, password: string): Promise<void> => {\n\t\t\tawait this.axios.post('/auth/password/reset', { token, password });\n\t\t},\n\t};\n}\n","import { AuthStorage } from '../types';\n\nexport class MemoryStore implements AuthStorage {\n\tprivate values: Record<string, any> = {};\n\n\tasync getItem<T = any>(key: string): Promise<T | undefined> {\n\t\treturn this.values[key];\n\t}\n\n\tasync setItem(key: string, value: any): Promise<void> {\n\t\tthis.values[key] = value;\n\t}\n}\n","import axios, { AxiosInstance } from 'axios';\nimport {\n\tItemsHandler,\n\tServerHandler,\n\tUtilsHandler,\n\tActivityHandler,\n\tFoldersHandler,\n\tPermissionsHandler,\n\tPresetsHandler,\n\tRolesHandler,\n\tUsersHandler,\n\tSettingsHandler,\n\tFilesHandler,\n\tCollectionsHandler,\n\tFieldsHandler,\n\tAuthHandler,\n\tRelationsHandler,\n\tAuthOptions,\n\tRevisionsHandler,\n} from './handlers';\nimport { MemoryStore } from './utils';\n\nclass DirectusSDK {\n\taxios: AxiosInstance;\n\tprivate authOptions: AuthOptions;\n\n\tconstructor(url: string, options?: { auth: Partial<AuthOptions> }) {\n\t\tthis.axios = axios.create({\n\t\t\tbaseURL: url,\n\t\t});\n\n\t\tthis.authOptions = {\n\t\t\tstorage: options?.auth?.storage !== undefined ? options.auth.storage : new MemoryStore(),\n\t\t\tmode: options?.auth?.mode !== undefined ? options.auth.mode : 'cookie',\n\t\t\tautoRefresh: options?.auth?.autoRefresh !== undefined ? options.auth.autoRefresh : false,\n\t\t};\n\t}\n\n\t// Global helpers\n\t////////////////////////////////////////////////////////////////////////////////////////////////\n\n\tget url(): string {\n\t\treturn this.axios.defaults.baseURL!;\n\t}\n\n\tset url(val: string) {\n\t\tthis.axios.defaults.baseURL = val;\n\t}\n\n\t// Handlers\n\t////////////////////////////////////////////////////////////////////////////////////////////////\n\n\titems(collection: string) {\n\t\tif (collection.startsWith('directus_')) {\n\t\t\tthrow new Error(`You can't read the \"${collection}\" collection directly.`);\n\t\t}\n\n\t\treturn new ItemsHandler(collection, this.axios);\n\t}\n\n\tget activity() {\n\t\treturn new ActivityHandler(this.axios);\n\t}\n\n\tget auth() {\n\t\treturn new AuthHandler(this.axios, this.authOptions);\n\t}\n\n\tget collections() {\n\t\treturn new CollectionsHandler(this.axios);\n\t}\n\n\tget fields() {\n\t\treturn new FieldsHandler(this.axios);\n\t}\n\n\tget files() {\n\t\treturn new FilesHandler(this.axios);\n\t}\n\n\tget folders() {\n\t\treturn new FoldersHandler(this.axios);\n\t}\n\n\tget permissions() {\n\t\treturn new PermissionsHandler(this.axios);\n\t}\n\n\tget presets() {\n\t\treturn new PresetsHandler(this.axios);\n\t}\n\n\tget relations() {\n\t\treturn new RelationsHandler(this.axios);\n\t}\n\n\tget revisions() {\n\t\treturn new RevisionsHandler(this.axios);\n\t}\n\n\tget roles() {\n\t\treturn new RolesHandler(this.axios);\n\t}\n\n\tget server() {\n\t\treturn new ServerHandler(this.axios);\n\t}\n\n\tget settings() {\n\t\treturn new SettingsHandler(this.axios);\n\t}\n\n\tget users() {\n\t\treturn new UsersHandler(this.axios);\n\t}\n\n\tget utils() {\n\t\treturn new UtilsHandler(this.axios);\n\t}\n}\n\nexport default DirectusSDK;\n"],"names":["axios"],"mappings":"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"}