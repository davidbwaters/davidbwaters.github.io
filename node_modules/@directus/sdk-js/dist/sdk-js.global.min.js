var DirectusSDK=function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}var a=function(){function t(t,e){this.axios=e,this.endpoint=t.startsWith("directus_")?"/"+t.substring(9)+"/":"/items/"+t+"/"}return t.prototype.create=function(t,e){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.axios.post(this.endpoint,t,{params:e})];case 1:return[2,n.sent().data]}}))}))},t.prototype.read=function(t,e){return s(this,void 0,void 0,(function(){var n,r,i;return u(this,(function(o){switch(o.label){case 0:return n=null,t&&(Array.isArray(t)||"string"==typeof t||"number"==typeof t)&&(n=t),r={},e?r=e:e||"object"!=typeof t||!1!==Array.isArray(t)||(r=t),i=this.endpoint,n&&(i+=n),[4,this.axios.get(i,{params:r})];case 1:return[2,o.sent().data]}}))}))},t.prototype.update=function(t,e,n){return s(this,void 0,void 0,(function(){var r,i;return u(this,(function(o){switch(o.label){case 0:return"string"==typeof t||"number"==typeof t||Array.isArray(t)&&t.every((function(t){return["string","number"].includes(typeof t)}))?(r=t,i=e,[4,this.axios.patch(""+this.endpoint+r,i,{params:n})]):[3,2];case 1:return[2,o.sent().data];case 2:return[4,this.axios.patch(""+this.endpoint,t,{params:e})];case 3:return[2,o.sent().data]}}))}))},t.prototype.delete=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.delete(""+this.endpoint+t)];case 1:return e.sent(),[2]}}))}))},t}(),c=function(){function t(t){var e=this;this.specs={oas:function(){return s(e,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.axios.get("/server/specs/oas")];case 1:return[2,t.sent().data]}}))}))}},this.axios=t}return t.prototype.ping=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.axios.get("/server/ping")];case 1:return t.sent(),[2,"pong"]}}))}))},t.prototype.info=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.axios.get("/server/info")];case 1:return[2,t.sent().data]}}))}))},t}(),f=function(){function t(t){var e=this;this.random={string:function(t){return void 0===t&&(t=32),s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.get("/utils/random/string",{params:{length:t}})];case 1:return[2,e.sent().data]}}))}))}},this.hash={generate:function(t){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.post("/utils/hash/generate",{string:t})];case 1:return[2,e.sent().data]}}))}))},verify:function(t,n){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.post("/utils/hash/verify",{string:t,hash:n})];case 1:return[2,e.sent().data]}}))}))}},this.axios=t}return t.prototype.sort=function(t,e,n){return s(this,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,this.axios.post("/utils/sort/"+t,{item:e,to:n})];case 1:return r.sent(),[2]}}))}))},t.prototype.revert=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.post("/utils/revert/"+t)];case 1:return e.sent(),[2]}}))}))},t}(),h=function(){function t(t){var e=this;this.comments={create:function(t){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.post("/activity/comments",t)];case 1:return[2,e.sent().data]}}))}))},update:function(t,n){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.patch("/activity/comments/"+t,n)];case 1:return[2,e.sent().data]}}))}))},delete:function(t){return s(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.delete("/activity/comments/"+t)];case 1:return e.sent(),[2]}}))}))}},this.axios=t,this.itemsHandler=new a("directus_activity",t)}return t.prototype.read=function(t,e){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.itemsHandler.read(t,e)];case 1:return[2,n.sent()]}}))}))},t}(),l=function(t){function e(e){return t.call(this,"directus_folders",e)||this}return i(e,t),e}(a),d=function(t){function e(e){return t.call(this,"directus_permissions",e)||this}return i(e,t),e}(a),p=function(t){function e(e){return t.call(this,"directus_presets",e)||this}return i(e,t),e}(a),v=function(t){function e(e){return t.call(this,"directus_relations",e)||this}return i(e,t),e}(a),b=function(t){function e(e){return t.call(this,"directus_revisions",e)||this}return i(e,t),e}(a),y=function(t){function e(e){return t.call(this,"directus_roles",e)||this}return i(e,t),e}(a),g=function(t){function e(e){var n=t.call(this,"directus_users",e)||this;return n.tfa={enable:function(t){return s(n,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.post("/users/tfa/enable",{password:t})];case 1:return e.sent(),[2]}}))}))},disable:function(t){return s(n,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.post("/users/tfa/disable",{otp:t})];case 1:return e.sent(),[2]}}))}))}},n.me={read:function(t){return s(n,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.get("/users/me",{params:t})];case 1:return[2,e.sent().data]}}))}))},update:function(t,e){return s(n,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.axios.patch("/users/me",t,{params:e})];case 1:return[2,n.sent().data]}}))}))}},n}return i(e,t),e.prototype.invite=function(t,e){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.axios.post("/users/invite",{email:t,role:e})];case 1:return n.sent(),[2]}}))}))},e.prototype.acceptInvite=function(t,e){return s(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.axios.post("/users/invite/accept",{token:t,password:e})];case 1:return n.sent(),[2]}}))}))},e}(a),m=function(t){function e(e){return t.call(this,"directus_settings",e)||this}return i(e,t),e}(a),w=function(t){function e(e){return t.call(this,"directus_files",e)||this}return i(e,t),e}(a),x=function(t){function e(e){return t.call(this,"directus_collections",e)||this}return i(e,t),e}(a),_=function(t){function e(e){return t.call(this,"directus_fields",e)||this}return i(e,t),e}(a),j=function(){function t(t,e){var n=this;this.password={request:function(t){return s(n,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.axios.post("/auth/password/request",{email:t})];case 1:return e.sent(),[2]}}))}))},reset:function(t,e){return s(n,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this.axios.post("/auth/password/reset",{token:t,password:e})];case 1:return n.sent(),[2]}}))}))}},this.axios=t,this.storage=e.storage,this.mode=e.mode,this.autoRefresh=e.autoRefresh,this.autoRefresh&&this.refresh()}return Object.defineProperty(t.prototype,"token",{get:function(){var t,e;return(null===(e=null===(t=this.axios.defaults.headers)||void 0===t?void 0:t.Authorization)||void 0===e?void 0:e.split(" ")[1])||null},set:function(t){this.axios.defaults.headers=o(o({},this.axios.defaults.headers||{}),{Authorization:t?"Bearer "+t:void 0})},enumerable:!1,configurable:!0}),t.prototype.login=function(t){return s(this,void 0,void 0,(function(){var e,n=this;return u(this,(function(r){switch(r.label){case 0:return[4,this.axios.post("/auth/login",o(o({},t),{mode:this.mode}))];case 1:return e=r.sent(),this.token=e.data.data.access_token,"json"!==this.mode?[3,3]:[4,this.storage.setItem("directus_refresh_token",e.data.data.refresh_token)];case 2:r.sent(),r.label=3;case 3:return this.autoRefresh&&setTimeout((function(){return n.refresh()}),e.data.data.expires-1e4),[2,e.data]}}))}))},t.prototype.refresh=function(){return s(this,void 0,void 0,(function(){var t,e,n,r=this;return u(this,(function(i){switch(i.label){case 0:return t={mode:this.mode},"json"!==this.mode?[3,2]:[4,this.storage.getItem("directus_refresh_token")];case 1:e=i.sent(),t.refresh_token=e,i.label=2;case 2:return[4,this.axios.post("/auth/refresh",t)];case 3:return n=i.sent(),this.token=n.data.data.access_token,"json"!==this.mode?[3,5]:[4,this.storage.setItem("directus_refresh_token",n.data.data.refresh_token)];case 4:i.sent(),i.label=5;case 5:return this.autoRefresh&&setTimeout((function(){return r.refresh()}),n.data.data.expires-1e4),[2,n.data]}}))}))},t.prototype.logout=function(){return s(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.axios.post("/auth/logout")];case 1:return t.sent(),this.token=null,[2]}}))}))},t}(),O=function(){function t(){this.values={}}return t.prototype.getItem=function(t){return s(this,void 0,void 0,(function(){return u(this,(function(e){return[2,this.values[t]]}))}))},t.prototype.setItem=function(t,e){return s(this,void 0,void 0,(function(){return u(this,(function(n){return this.values[t]=e,[2]}))}))},t}();return function(){function t(t,e){var r,i,o;this.axios=n.default.create({baseURL:t}),this.authOptions={storage:void 0!==(null===(r=null==e?void 0:e.auth)||void 0===r?void 0:r.storage)?e.auth.storage:new O,mode:void 0!==(null===(i=null==e?void 0:e.auth)||void 0===i?void 0:i.mode)?e.auth.mode:"cookie",autoRefresh:void 0!==(null===(o=null==e?void 0:e.auth)||void 0===o?void 0:o.autoRefresh)&&e.auth.autoRefresh}}return Object.defineProperty(t.prototype,"url",{get:function(){return this.axios.defaults.baseURL},set:function(t){this.axios.defaults.baseURL=t},enumerable:!1,configurable:!0}),t.prototype.items=function(t){if(t.startsWith("directus_"))throw new Error("You can't read the \""+t+'" collection directly.');return new a(t,this.axios)},Object.defineProperty(t.prototype,"activity",{get:function(){return new h(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"auth",{get:function(){return new j(this.axios,this.authOptions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collections",{get:function(){return new x(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fields",{get:function(){return new _(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"files",{get:function(){return new w(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"folders",{get:function(){return new l(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"permissions",{get:function(){return new d(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"presets",{get:function(){return new p(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"relations",{get:function(){return new v(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"revisions",{get:function(){return new b(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roles",{get:function(){return new y(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){return new c(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"settings",{get:function(){return new m(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"users",{get:function(){return new g(this.axios)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"utils",{get:function(){return new f(this.axios)},enumerable:!1,configurable:!0}),t}()}(axios);
//# sourceMappingURL=sdk-js.global.min.js.map
